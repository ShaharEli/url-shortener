{"version":3,"sources":["App.js","index.js"],"names":["Main","styled","main","Title","h1","Label","h3","props","prefix","Input","input","UrlItem","div","Submit","button","App","useState","url","setUrl","setPrefix","shortenedUrls","setShortenedUrls","handleChange","event","target","value","handleSubmit","e","a","preventDefault","length","alert","axios","post","hello","postedUrlResult","data","newUrl","originalUrl","link","prev","localStorage","setItem","map","JSON","stringify","join","Swal","fire","response","status","message","useEffect","listOfUrls","getItem","split","parse","className","onSubmit","type","required","onChange","href","ReactDOM","render","StrictMode","document","getElementById"],"mappings":"8xCAMA,IAAMA,EAAOC,IAAOC,KAAV,KAMJC,EAAQF,IAAOG,GAAV,KAKLC,EAAQJ,IAAOK,GAAV,KACK,SAACC,GAAD,OAAYA,EAAMC,OAAS,MAAQ,UAI7CC,EAAQR,IAAOS,MAAV,KAaLC,EAAUV,IAAOW,IAAV,KAIPC,EAASZ,IAAOa,OAAV,KA2GGC,MAhGf,WAAgB,IAAD,EACSC,mBAAS,IADlB,mBACNC,EADM,KACDC,EADC,OAEeF,mBAAS,IAFxB,mBAENR,EAFM,KAEEW,EAFF,OAG6BH,mBAAS,IAHtC,mBAGNI,EAHM,KAGSC,EAHT,KAKPC,EAAe,SAACC,EAAOC,GACZ,QAAXA,EACFN,EAAOK,EAAMC,OAAOC,OAEpBN,EAAUI,EAAMC,OAAOC,QAIrBC,EAAY,uCAAG,WAAOC,GAAP,yBAAAC,EAAA,6DACnBD,EAAEE,iBACEZ,EAAIa,OAAS,GACfC,MAAM,0BAHW,kBAMuBC,IAAMC,KAAK,IAAK,CACtDC,MAAO,SACPjB,MACAT,WATe,gBAMH2B,EANG,EAMTC,KAKFC,EAAS,CACbC,YAAaH,EAAgBlB,IAC7BsB,KAAK,yBAAD,OAA2BJ,EAAgB3B,SAEjDa,GAAiB,SAACmB,GAAD,OAAWH,GAAX,mBAAsBG,OACvCC,aAAaC,QACX,OACA,CAACL,GAAD,mBAAYjB,IACTuB,KAAI,SAAC1B,GAAD,OAAS2B,KAAKC,UAAU5B,MAC5B6B,KAAK,uBAEVC,IAAKC,KAAL,gCAAmC/B,GAAO,GAAI,WAtB7B,kDAwBU,OAAvB,eAAEgC,gBAAF,eAAYC,QACdH,IAAKC,KAAK,8CAA+C,GAAI,SAC7B,OAAvB,eAAEC,gBAAF,eAAYC,SACrBH,IAAKC,KAAL,UAAU,KAAEC,SAASb,YAArB,aAAU,EAAiBe,QAAS,GAAI,SA3BzB,0DAAH,sDA2ClB,OAXAC,qBAAU,WACR,IAAIC,EAAaZ,aAAaa,QAAQ,QAClCD,IACFA,EAAaA,EACVE,MAAM,sBACNZ,KAAI,SAAC1B,GAAD,OAAS2B,KAAKY,MAAMvC,MAE3BI,EAAiBgC,MAElB,IAGD,qBAAKI,UAAU,MAAf,SACE,eAACzD,EAAD,WACE,iCACE,cAACG,EAAD,+BAEF,uBAAMuD,SAAUhC,EAAhB,UACE,cAACrB,EAAD,yDACA,cAACI,EAAD,CACEkD,KAAK,OACLlC,MAAOR,EACP2C,UAAQ,EACRC,SAAU,SAAClC,GAAD,OAAOL,EAAaK,EAAG,UAEnC,cAACtB,EAAD,CAAOG,OAAO,OAAd,kDACA,cAACC,EAAD,CACEkD,KAAK,OACLlC,MAAOjB,EACPqD,SAAU,SAAClC,GAAD,OAAOL,EAAaK,EAAG,aAEnC,uBACA,cAACd,EAAD,CAAQ8C,KAAK,SAAb,uBAEF,+BACE,6DACCvC,EAAcuB,KAAI,SAAC1B,GAClB,OACE,eAACN,EAAD,6BACkBM,EAAIqB,YACpB,uBAFF,mBAGkB,mBAAGwB,KAAM7C,EAAIsB,KAAb,SAAoBtB,EAAIsB,SAH5BtB,EAAIsB,kBChIhCwB,IAASC,OACP,cAAC,IAAMC,WAAP,UACE,cAAC,EAAD,MAEFC,SAASC,eAAe,W","file":"static/js/main.9685b50a.chunk.js","sourcesContent":["import { useEffect, useState } from \"react\";\nimport \"./App.css\";\nimport axios from \"axios\";\nimport styled from \"styled-components\";\nimport Swal from \"sweetalert2\";\n\nconst Main = styled.main`\n  display: flex;\n  flex-direction: column;\n  align-items: center;\n`;\n\nconst Title = styled.h1`\n  font-weight: 900;\n  font-size: 46px;\n`;\n\nconst Label = styled.h3`\n  margin-top: ${(props) => (props.prefix ? \"8vh\" : \"12vh\")};\n  margin-bottom: 5vh;\n`;\n\nconst Input = styled.input`\n  width: 50vw;\n  border-radius: 8px;\n  border: 1px solid black;\n  height: 25px;\n  min-width: 200px;\n  &:focus {\n    border: 1px solid blue;\n    outline: none;\n    box-shadow: 0 0 2px 2px #888;\n  }\n`;\n\nconst UrlItem = styled.div`\n  margin: 20px 0;\n`;\n\nconst Submit = styled.button`\n  margin: 30px 20vw;\n  align-self: center;\n  color: \"white\";\n  font-size: 1em;\n  padding: 0.45em 1.5em;\n  border: 2px solid #354d9e;\n  border-radius: 3px;\n  background-color: #189fe3;\n`;\n\nfunction App() {\n  const [url, setUrl] = useState(\"\");\n  const [prefix, setPrefix] = useState(\"\");\n  const [shortenedUrls, setShortenedUrls] = useState([]);\n\n  const handleChange = (event, target) => {\n    if (target === \"url\") {\n      setUrl(event.target.value);\n    } else {\n      setPrefix(event.target.value);\n    }\n  };\n\n  const handleSubmit = async (e) => {\n    e.preventDefault();\n    if (url.length < 8) {\n      alert(\"Please enter valid URL\");\n    }\n    try {\n      const { data: postedUrlResult } = await axios.post(\"/\", {\n        hello: \"dedede\",\n        url,\n        prefix,\n      });\n      const newUrl = {\n        originalUrl: postedUrlResult.url,\n        link: `http://localhost:3001/${postedUrlResult.prefix}`,\n      };\n      setShortenedUrls((prev) => [newUrl, ...prev]);\n      localStorage.setItem(\n        \"urls\",\n        [newUrl, ...shortenedUrls]\n          .map((url) => JSON.stringify(url))\n          .join(\"#$&splitingSpot&$#\")\n      );\n      Swal.fire(`succesfully shortened ${url}`, \"\", \"success\");\n    } catch (e) {\n      if (e.response?.status === 429) {\n        Swal.fire(\"please wait 15 seconds between each request\", \"\", \"error\");\n      } else if (e.response?.status === 400) {\n        Swal.fire(e.response.data?.message, \"\", \"error\");\n      }\n    }\n  };\n\n  useEffect(() => {\n    let listOfUrls = localStorage.getItem(\"urls\");\n    if (listOfUrls) {\n      listOfUrls = listOfUrls\n        .split(\"#$&splitingSpot&$#\")\n        .map((url) => JSON.parse(url));\n\n      setShortenedUrls(listOfUrls);\n    }\n  }, []);\n\n  return (\n    <div className='App'>\n      <Main>\n        <header>\n          <Title>URL Shoretener</Title>\n        </header>\n        <form onSubmit={handleSubmit}>\n          <Label>Enter the url that you want to get shorter</Label>\n          <Input\n            type='text'\n            value={url}\n            required\n            onChange={(e) => handleChange(e, \"url\")}\n          ></Input>\n          <Label prefix='true'>Enter prefix for the url if you want</Label>\n          <Input\n            type='text'\n            value={prefix}\n            onChange={(e) => handleChange(e, \"prefix\")}\n          ></Input>\n          <br />\n          <Submit type='submit'>submit</Submit>\n        </form>\n        <ul>\n          <h3>List of your shortened urls</h3>\n          {shortenedUrls.map((url) => {\n            return (\n              <UrlItem key={url.link}>\n                original link: {url.originalUrl}\n                <br />\n                Shortened Link: <a href={url.link}>{url.link}</a>\n              </UrlItem>\n            );\n          })}\n        </ul>\n      </Main>\n    </div>\n  );\n}\n\nexport default App;\n","import React from \"react\";\nimport ReactDOM from \"react-dom\";\nimport \"./index.css\";\nimport App from \"./App\";\n\nReactDOM.render(\n  <React.StrictMode>\n    <App />\n  </React.StrictMode>,\n  document.getElementById(\"root\")\n);\n\n// If you want to start measuring performance in your app, pass a function\n// to log results (for example: reportWebVitals(console.log))\n// or send to an analytics endpoint. Learn more: https://bit.ly/CRA-vitals\n"],"sourceRoot":""}